<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>문제 출제</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="./script/common.js"></script>
    <script src="./script/quiz.js"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <div class="container">
      <!-- 헤더 -->
      <header class="header">
        <h1>
          <i class="fas fa-brain"></i>
          공부합시다!
        </h1>
        <div class="header-buttons">
          <button class="btn btn-secondary" id="manageBtn">
            <i class="fas fa-cog"></i>
            문제 관리
          </button>
          <button class="btn btn-primary" id="newQuestionBtn">
            <i class="fas fa-backward-step"></i>
            처음 문제로
          </button>
          <!-- 문제 번호 입력 필드 -->
          <input
            type="number"
            id="questionNumberInput"
            placeholder="문제 번호 입력"
            min="1"
          />

          <!-- 이동 버튼 -->
          <button id="goToQuestionBtn">
            <i class="fas fa-arrow-right"></i>
            문제로 이동
          </button>
        </div>
      </header>

      <!-- 메인 컨텐츠 -->
      <main class="main-content">
        <!-- 문제 출제 페이지 -->
        <div class="page quiz-page active" id="quizPage">
          <!-- 문제 영역 -->
          <section class="question-section">
            <div class="question-number">문제 1</div>
            <div class="question-text">문제를 불러오는 중입니다...</div>
            <div class="question-nav">
              <button class="btn btn-secondary" id="prevBtn">
                <i class="fas fa-chevron-left"></i>
                이전
              </button>
              <button class="btn btn-secondary" id="nextBtn">
                다음
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </section>

          <!-- 답안 영역 -->
          <section class="answer-section">
            <textarea
              class="answer-input"
              placeholder="정답을 입력하세요..."
              rows="3"
            ></textarea>

            <!-- 키워드 하이라이트 미리보기 -->
            <div class="answer-highlight-section">
              <div class="answer-preview" id="answerPreview">
                입력한 내용이 여기에 키워드 하이라이트와 함께 표시됩니다.
              </div>
              <div class="keyword-stats" id="keywordStats">
                <i class="fas fa-chart-bar"></i>
                키워드 매칭:
                <span class="keyword-count">0개</span>
                발견
              </div>
            </div>

            <div class="answer-toggle">
              <button class="btn btn-secondary" id="highlightBtn">
                <i class="fas fa-highlighter"></i>
                키워드 확인
              </button>
              <button class="btn btn-primary" id="toggleAnswerBtn">
                <i class="fas fa-eye"></i>
                정답 보기
              </button>
            </div>

            <div class="answer-display" id="answerDisplay">
              <strong>정답:</strong>
              <span id="correctAnswer">정답이 여기에 표시됩니다.</span>
            </div>
          </section>
        </div>

        <!-- 문제 관리 페이지 -->
        <div class="page admin-page" id="adminPage">
          <!-- 문제 등록 폼 -->
          <section class="form-section">
            <h2>
              <i class="fas fa-plus-circle"></i>
              새 문제 등록
            </h2>
            <form id="questionForm">
              <div class="form-group">
                <label for="questionInput">문제</label>
                <textarea
                  id="questionInput"
                  placeholder="문제를 입력하세요..."
                  required
                ></textarea>
              </div>
              <div class="form-group">
                <label for="answerInput">정답</label>
                <textarea
                  id="answerInput"
                  placeholder="정답을 입력하세요..."
                  required
                ></textarea>
              </div>
              <div class="form-group">
                <label for="keywordsInput">키워드 (쉼표로 구분)</label>
                <input
                  type="text"
                  id="keywordsInput"
                  placeholder="키워드1, 키워드2, 키워드3..."
                  required
                />
              </div>
              <div class="form-group">
                <button
                  type="submit"
                  class="btn btn-primary"
                  style="width: 100%"
                >
                  <i class="fas fa-save"></i>
                  문제 등록
                </button>
              </div>
            </form>
          </section>

          <!-- 문제 목록 -->
          <section class="question-list">
            <h2>
              <i class="fas fa-list"></i>
              등록된 문제
            </h2>
            <div id="questionListContainer">
              <div class="empty-state">
                <i
                  class="fas fa-inbox"
                  style="font-size: 48px; margin-bottom: 20px; opacity: 0.5"
                ></i>
                <p>
                  등록된 문제가 없습니다.
                  <br />
                  위 폼을 사용해서 첫 번째 문제를 등록해보세요!
                </p>
              </div>
            </div>
          </section>

          <!-- 메인으로 돌아가기 -->
          <div style="text-align: center; margin-top: 20px">
            <button class="btn btn-secondary" id="backToMainBtn">
              <i class="fas fa-arrow-left"></i>
              문제 풀이로 돌아가기
            </button>
          </div>
        </div>
      </main>
    </div>
  </body>
</html>
